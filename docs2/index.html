<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Index</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <script src="scripts/jquery.min.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="styles/jaguar.css">
    
    
    <script>
    var config = {"monospaceLinks":false,"cleverLinks":false,"default":{}};
    </script>
    

    
</head>
<body>
<div id="wrap" class="clearfix">
    
<div class="navigation">
    <h3 class="applicationName"><a href="index.html"></a></h3>

    <div class="search">
        <input id="search" type="text" class="form-control input-sm" placeholder="Search Documentations">
    </div>
    <ul class="list">
    
        <li class="item" data-name="App">
            <span class="title">
                <a href="App.html">App</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="App.authenticate"><a href="App.html#.authenticate">authenticate</a></li>
            
                <li data-name="App.clearCache"><a href="App.html#.clearCache">clearCache</a></li>
            
                <li data-name="App.deviceIsNewer"><a href="App.html#.deviceIsNewer">deviceIsNewer</a></li>
            
                <li data-name="App.deviceIsUnique"><a href="App.html#.deviceIsUnique">deviceIsUnique</a></li>
            
                <li data-name="App.getSettings"><a href="App.html#.getSettings">getSettings</a></li>
            
                <li data-name="App.getState"><a href="App.html#.getState">getState</a></li>
            
                <li data-name="App.load"><a href="App.html#.load">load</a></li>
            
                <li data-name="App.loadList"><a href="App.html#.loadList">loadList</a></li>
            
                <li data-name="App.save"><a href="App.html#.save">save</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="controller">
            <span class="title">
                <a href="controller.html">controller</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="controller.bindEvents"><a href="controller.html#.bindEvents">bindEvents</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Devices">
            <span class="title">
                <a href="Devices.html">Devices</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Devices.checkForNewDevices"><a href="Devices.html#.checkForNewDevices">checkForNewDevices</a></li>
            
                <li data-name="Devices.checkForNewDevices"><a href="Devices.html#.checkForNewDevices">checkForNewDevices</a></li>
            
                <li data-name="Devices.deviceInterface"><a href="Devices.html#.deviceInterface">deviceInterface</a></li>
            
                <li data-name="Devices.findDevice"><a href="Devices.html#.findDevice">findDevice</a></li>
            
                <li data-name="Devices.getDeviceHotspots"><a href="Devices.html#.getDeviceHotspots">getDeviceHotspots</a></li>
            
                <li data-name="Devices.getDeviceType"><a href="Devices.html#.getDeviceType">getDeviceType</a></li>
            
                <li data-name="Devices.getStoredDevices"><a href="Devices.html#.getStoredDevices">getStoredDevices</a></li>
            
                <li data-name="Devices.parseDevice"><a href="Devices.html#.parseDevice">parseDevice</a></li>
            
                <li data-name="Devices.rebootDevice"><a href="Devices.html#.rebootDevice">rebootDevice</a></li>
            
                <li data-name="Devices.removeExpired"><a href="Devices.html#.removeExpired">removeExpired</a></li>
            
                <li data-name="Devices.saveDevice"><a href="Devices.html#.saveDevice">saveDevice</a></li>
            
                <li data-name="Devices.saveMqttSettings"><a href="Devices.html#.saveMqttSettings">saveMqttSettings</a></li>
            
                <li data-name="Devices.saveNetworkSettings"><a href="Devices.html#.saveNetworkSettings">saveNetworkSettings</a></li>
            
                <li data-name="Devices.saveToDevice"><a href="Devices.html#.saveToDevice">saveToDevice</a></li>
            
                <li data-name="Devices.updateDevices"><a href="Devices.html#.updateDevices">updateDevices</a></li>
            
                <li data-name="Devices.updateDevicesList"><a href="Devices.html#.updateDevicesList">updateDevicesList</a></li>
            
                <li data-name="Devices.zerconfScan"><a href="Devices.html#.zerconfScan">zerconfScan</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="logger">
            <span class="title">
                <a href="logger.html">logger</a>
                
            </span>
            <ul class="members itemMembers">
            
            <span class="subtitle">Members</span>
            
                <li data-name="logger.levels"><a href="logger.html#.levels">levels</a></li>
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="logger.debug"><a href="logger.html#.debug">debug</a></li>
            
                <li data-name="logger.error"><a href="logger.html#.error">error</a></li>
            
                <li data-name="logger.fatal"><a href="logger.html#.fatal">fatal</a></li>
            
                <li data-name="logger.info"><a href="logger.html#.info">info</a></li>
            
                <li data-name="logger.trace"><a href="logger.html#.trace">trace</a></li>
            
                <li data-name="logger.warn"><a href="logger.html#.warn">warn</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="view">
            <span class="title">
                <a href="view.html">view</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="view.addClass"><a href="view.html#.addClass">addClass</a></li>
            
                <li data-name="view.changeView"><a href="view.html#.changeView">changeView</a></li>
            
                <li data-name="view.displayDevices"><a href="view.html#.displayDevices">displayDevices</a></li>
            
                <li data-name="view.find"><a href="view.html#.find">find</a></li>
            
                <li data-name="view.findAll"><a href="view.html#.findAll">findAll</a></li>
            
                <li data-name="view.getClosest"><a href="view.html#.getClosest">getClosest</a></li>
            
                <li data-name="view.hide"><a href="view.html#.hide">hide</a></li>
            
                <li data-name="view.hideAll"><a href="view.html#.hideAll">hideAll</a></li>
            
                <li data-name="view.hideOne"><a href="view.html#.hideOne">hideOne</a></li>
            
                <li data-name="view.icon"><a href="view.html#.icon">icon</a></li>
            
                <li data-name="view.removeClass"><a href="view.html#.removeClass">removeClass</a></li>
            
                <li data-name="view.resetOriginalText"><a href="view.html#.resetOriginalText">resetOriginalText</a></li>
            
                <li data-name="view.setOriginalText"><a href="view.html#.setOriginalText">setOriginalText</a></li>
            
                <li data-name="view.setText"><a href="view.html#.setText">setText</a></li>
            
                <li data-name="view.show"><a href="view.html#.show">show</a></li>
            
                <li data-name="view.showDeviceHotspots"><a href="view.html#.showDeviceHotspots">showDeviceHotspots</a></li>
            
                <li data-name="view.showOne"><a href="view.html#.showOne">showOne</a></li>
            
                <li data-name="view.togglePasswordVisible"><a href="view.html#.togglePasswordVisible">togglePasswordVisible</a></li>
            
                <li data-name="view.toggleSidebar"><a href="view.html#.toggleSidebar">toggleSidebar</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
        <li class="item" data-name="Wifi">
            <span class="title">
                <a href="Wifi.html">Wifi</a>
                
            </span>
            <ul class="members itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="typedefs itemMembers">
            
            </ul>
            <ul class="methods itemMembers">
            
            <span class="subtitle">Methods</span>
            
                <li data-name="Wifi.accessPointIsUnique"><a href="Wifi.html#.accessPointIsUnique">accessPointIsUnique</a></li>
            
                <li data-name="Wifi.connect"><a href="Wifi.html#.connect">connect</a></li>
            
                <li data-name="Wifi.disconnect"><a href="Wifi.html#.disconnect">disconnect</a></li>
            
                <li data-name="Wifi.displayAccessPoints"><a href="Wifi.html#.displayAccessPoints">displayAccessPoints</a></li>
            
                <li data-name="Wifi.enable"><a href="Wifi.html#.enable">enable</a></li>
            
                <li data-name="Wifi.filterLatestAccessPoints"><a href="Wifi.html#.filterLatestAccessPoints">filterLatestAccessPoints</a></li>
            
                <li data-name="Wifi.getApCapabilities"><a href="Wifi.html#.getApCapabilities">getApCapabilities</a></li>
            
                <li data-name="Wifi.getApStrengthAndRating"><a href="Wifi.html#.getApStrengthAndRating">getApStrengthAndRating</a></li>
            
                <li data-name="Wifi.getCurrentSSID"><a href="Wifi.html#.getCurrentSSID">getCurrentSSID</a></li>
            
                <li data-name="Wifi.getStatus"><a href="Wifi.html#.getStatus">getStatus</a></li>
            
                <li data-name="Wifi.getWifiIP"><a href="Wifi.html#.getWifiIP">getWifiIP</a></li>
            
                <li data-name="Wifi.isWifiEnabled"><a href="Wifi.html#.isWifiEnabled">isWifiEnabled</a></li>
            
                <li data-name="Wifi.onOffline"><a href="Wifi.html#.onOffline">onOffline</a></li>
            
                <li data-name="Wifi.onOnline"><a href="Wifi.html#.onOnline">onOnline</a></li>
            
                <li data-name="Wifi.removeAccessPoint"><a href="Wifi.html#.removeAccessPoint">removeAccessPoint</a></li>
            
                <li data-name="Wifi.scan"><a href="Wifi.html#.scan">scan</a></li>
            
                <li data-name="Wifi.setAccessPointTTL"><a href="Wifi.html#.setAccessPointTTL">setAccessPointTTL</a></li>
            
                <li data-name="Wifi.setCurrentIP"><a href="Wifi.html#.setCurrentIP">setCurrentIP</a></li>
            
                <li data-name="Wifi.setCurrentSSID"><a href="Wifi.html#.setCurrentSSID">setCurrentSSID</a></li>
            
                <li data-name="Wifi.setIsConnected"><a href="Wifi.html#.setIsConnected">setIsConnected</a></li>
            
            </ul>
            <ul class="events itemMembers">
            
            </ul>
        </li>
    
    </ul>
</div>
    <div class="main">
        <h1 class="page-title" data-filename="index.html">Index</h1>
        


    


    <h3> </h3>








    




    <section>
        <article class="readme"><h2>EmonCMS Devices App</h2>
<blockquote>
<p><a target="_blank" href="https://github.com/emoncms/cordova-emon-devices/blob/main/README-debug.md">Debug</a> | <a target="_blank" href="https://github.com/emoncms/cordova-emon-devices/blob/main/README-deploy.md">Deploy</a> | <a target="_blank" href="https://github.com/emoncms/cordova-emon-devices/blob/main/README-jsdoc.md">Documentation</a> | <a target="_blank" href="https://github.com/emoncms/cordova-emon-devices/blob/main/README-vscode-debugging.md">vscode</a></p>
</blockquote>
<p><img src="screenshots/feature-graphic.png" alt="feature image"></p>
<p>This is a &quot;Companion App&quot; for <a target="_blank" href="https://github.com/emoncms/emoncms">EmonCMS</a> to discover compatible devices on your network.</p>
<p>New devices can also be &quot;paired&quot; using this app.</p>
<blockquote>
<p>Currently Android 10+ users cannot &quot;Add new devices&quot; via the app - <a target="_blank" href="https://github.com/emoncms/cordova-emon-devices/issues/1">issue created</a></p>
</blockquote>
<p>New devices automatically create Wi-Fi hotspots when not connected to a local network.
Once you connect to these hotspots you can configure the device to connect to your local Wi-Fi connection.</p>
<p>This app will discover these hotspots and connect your device to your Wi-Fi without manual configuration.</p>
<p>You can also sign into your dashboard to allow your device to be controlled online as well as locally.</p>
<p>Written with <a target="_blank" href="https://cordova.apache.org">Apache Cordova</a> - works on multiple devices, however main development done one Android 9.
Other devices and versions should be compatible with this Cordova App.</p>
<blockquote>
<p>:information_source: please post <a target="_blank" href="https://github.com/emoncms/cordova-emon-devices/issues">github issue</a> to track problems and fixes</p>
</blockquote>
<hr>
<h2>Screenshots</h2>
<p>Screenshots of the web based <a target="_blank" href="https://dashboard.energylocal.org.uk">Energy Local Dashboard</a> and this App running on Android</p>
<blockquote>
<p>:link: You can control your device using your <a target="_blank" href="https://dashboard.energylocal.org.uk">Energy Local Dashboard</a> account</p>
</blockquote>
<table>
    <tr>
        <td>
            <a href="dashboard-screenshot.png?raw=true" alt="Dashbaord Screenshot">
                <img src="dashboard-screenshot.png?raw=true" width="450" alt="Screenshot of Dashboard">
            </a>
            <br>
            <em>Dashboard showing device synced with the <a target="_blank" href="https://octopus.energy/agile/">Octopus Agile tariff</a> pricing</em>
        </td>
        <td>
            <a href="app-screenshot.png?raw=true" alt="App Screenshot">
                <img src="app-screenshot.png?raw=true" width="217" alt="Screenshot of App">
            </a>
            <br>
            <em>App showing discovered devices</em>
        </td>
    </tr>
</table>
<hr>
<h1>Run on Android device</h1>
<pre class="prettyprint source lang-bash"><code>$ git clone https://github.com/emoncms/cordova-emon-devices.git && cd devices
$ cordova platform add android
$ npm install
$ cordova run android --device
</code></pre>
<blockquote>
<p>Above commands assumes <a target="_blank" href="https://www.npmjs.com/get-npm">npm</a> and <a target="_blank" href="https://cordova.apache.org">cordova</a> are installed on the local machine and
that the android device is in <a target="_blank" href="https://developer.android.com/studio/debug/dev-options">developer mode</a> with USB debugging enabled.</p>
</blockquote>
<h2>Required Cordova plugins</h2>
<pre class="prettyprint source lang-bash"><code>$ cordova plugin add cordova-plugin-zeroconf
$ cordova plugin add https://github.com/tripflex/wifiwizard2
$ cordova plugin add cordova-plugin-advanced-http
$ cordova plugin add cordova-plugin-inappbrowser
$ cordova plugin add cordova-plugin-device
$ cordova plugin add cordova-plugin-network-information
</code></pre>
<p>or as one liner...</p>
<pre class="prettyprint source lang-bash"><code>$ cordova plugin add cordova-plugin-zeroconf https://github.com/tripflex/wifiwizard2 cordova-plugin-advanced-http cordova-plugin-inappbrowser cordova-plugin-device cordova-plugin-network-information
</code></pre>
<blockquote>
<p>__⚠ issue with android 10 security policies not allowing apps to create/drop wifi connections. <a target="_blank" href="https://github.com/emoncms/cordova-emon-devices/issues/1">issue created</a></p>
</blockquote>
<hr>
<h2>Issues compling</h2>
<p>You may have problems compiling, try to remove then add the cordova platform to fix this:</p>
<pre class="prettyprint source lang-bash"><code>$ cordova platform remove android
$ cordova platform add android
</code></pre>
<p>or remove the whole <code>platform</code> directory and re-add:</p>
<pre class="prettyprint source lang-bash"><code>$ rm -rf platforms && cordova platform add android
</code></pre>
<blockquote>
<p><strong>⚠ NOTE</strong> : The Cordova plugins will also need to be re-installed once you remove a platform</p>
</blockquote>
<h1>Issues</h1>
<p>If you find any issues please add them to the <a target="_blank" href="https://github.com/emoncms/cordova-emon-devices/issues">issue tracker</a></p>
<hr>
<h1>Code Documentation</h1>
<p>Using jsdoc to produce documentation
moved the instructions to <a target="_blank" href="https://github.com/emoncms/cordova-emon-devices/blob/main/README-jsdoc.md">README-docs.md</a></p>
<hr>
<h1>Deploy App</h1>
<p>You must increase the <code>android-versionCode</code> every time you want to push a new release to the Play Store.</p>
<p>moved the instructions to <a target="_blank" href="https://github.com/emoncms/cordova-emon-devices/blob/main/README-deploy.md">README-deploy.md</a></p>
<hr>
<h1>Debugging</h1>
<p>Using vscode code debugging tools</p>
<p>moved the instructions to <a target="_blank" href="https://github.com/emoncms/cordova-emon-devices/blob/main/README-debug.md">README-testing.md</a></p>
<hr>
<h1>Todo</h1>
<p>Please use the <a target="_blank" href="https://github.com/emoncms/cordova-emon-devices/issues">repo issues tracker</a> to suggest new features</p>
<ul>
<li>Translation - i18n label placeholders and translations</li>
<li>Upgrade the WiFiWizard2 plugin once android 10 is supported.</li>
</ul>
<hr></article>
    </section>







<section>
    
<header>
    <h2>
    index.js
    </h2>
    
</header>  

<article>
    <div class="container-overview">
    
    
    
        
            <div class="description">Mobile app that scans the local network for compatible devices. Connects to new device hotspot and pairs it. Adds the device to the user's online dashboard.</div>
        
        
        
<dl class="details">
    
        
    
    <dt class="tag-version">Version:</dt>
    <dd class="tag-version"><ul class="dummy"><li>0.2.3</li></ul></dd>
    
    
    

    
    
    
    <dt class="tag-author">Author:</dt>
    <dd class="tag-author">
        <ul>
            <li><a href="mailto:emrys@openenergymonitor.org.uk">Emrys Roberts</a></li>
        </ul>
    </dd>
    
    
    
    <dt class="tag-copyright">Copyright:</dt>
    <dd class="tag-copyright"><ul class="dummy"><li>EmonCMS 2020 <a target="_blank" href="https://raw.githubusercontent.com/emrysr/devices/master/COPYRIGHT.txt">COPYRIGHT.txt</a></li></ul></dd>
    
    
    
    <dt class="tag-license">License:</dt>
    <dd class="tag-license"><ul class="dummy"><li>AGPL-3.0-or-later <a target="_blank" href="https://raw.githubusercontent.com/emrysr/devices/master/LICENSE.txt">LICENSE.txt</a></li></ul></dd>
    
    
    
    
    
    
    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a target="_blank" href="http://openenergymonitor.org">OpenEnergyMonitor project</a></li>
        </ul>
    </dd>
    
    
    
</dl>

        
        
    
    </div>
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    

    
</article>

</section>  





        

        <footer>
            Documentation generated by <a target="_blank" href="https://github.com/jsdoc3/jsdoc">JSDoc 3.6.5</a> on Thu Nov 12 2020 17:29:38 GMT+0000 (Amser Safonol Greenwich)
        </footer>
    </div>
</div>
<script>prettyPrint();</script>
<script src="scripts/jaguar.js"></script>
</body>
</html>